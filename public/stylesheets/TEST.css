<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/mult-pages.css" />
    <link rel="stylesheet" href="/stylesheets/index.css">
    <title>My Workouts</title>
  </head>
  <body>
    <%- include('../partials/_indexPageNavBar.ejs') %>

    <h1>My Workouts!</h1>

    <div class="workouts-container">

      <div class="workout-column swim-column">
        <div class="icon-container">
          <div class="swim-icon">
            <img
              class="swim-pic-icon"
              src="/icon-pics/swim.png"
              alt="swim picture"
            />
            <h3>SWIM</h3>
          </div>
        </div>
  
        <% let swimWorkouts = triathlon.filter(workout => workout.discipline === 'Swim').sort((a, b) => new Date(a.date) - new Date(b.date)); %>
        
        <% if (swimWorkouts.length > 0) { %>
          <ul>
            <% swimWorkouts.forEach((workout) => { %>
              
              <li>
                <a class="workout-title-link" href="/users/<%= user._id %>/workouts/<%= workout._id %>">
                <div class="workout-title-text"><u>Date: <%= workout.date.toString().slice(0, 15) %></u></div>
                </a>
                 
                  <div class="workout-cards">

                    Type: <%= workout.workoutType %><br />
          
                    <% if (workout.time) { %>
                      <% if (workout.time > 1) { %>
                        Time: <%= workout.time %> minutes<br />
                      <% } else if (workout.time === 1) { %>
                        Time: <%= workout.time %> minute<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.distance) { %>
                      <% if (workout.distance > 1) { %>
                        Distance: <%= workout.distance %> miles<br />
                      <% } else if (workout.distance === 1) { %>
                        Distance: <%= workout.distance %> mile<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.notes) { %>
                      Notes: "<%= workout.notes %>"<br />
                    <% } %>
                  </div> 
              </li>
            <% }); %>

          </ul>
        <% } else { %>
        <p>You have no Swim workouts!</p>
        <% } %>
      </div>




      <div class="workout-column bike-column">
        <div class="icon-container">
          <div class="bike-icon">
            <img
              class="bike-pic-icon"
              src="/icon-pics/bike.png"
              alt="bike picture"
            />
            <h3>BIKE</h3>
          </div>
        </div>
  
        <% let bikeWorkouts = triathlon.filter(workout => workout.discipline === 'Bike').sort((a, b) => new Date(a.date) - new Date(b.date)); %>
        
        <% if (bikeWorkouts.length > 0) { %>
          <ul>
            <% bikeWorkouts.forEach((workout) => { %>
              
              <li>
                <a class="workout-title-link" href="/users/<%= user._id %>/workouts/<%= workout._id %>">
                  <div class="workout-title-text"><u>Date: <%= workout.date.toString().slice(0, 15) %></u></div>
                  </a>

                  <div class="workout-cards">

                    Type: <%= workout.workoutType %><br />
          
                    <% if (workout.time) { %>
                      <% if (workout.time > 1) { %>
                        Time: <%= workout.time %> minutes<br />
                      <% } else if (workout.time === 1) { %>
                        Time: <%= workout.time %> minute<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.distance) { %>
                      <% if (workout.distance > 1) { %>
                        Distance: <%= workout.distance %> miles<br />
                      <% } else if (workout.distance === 1) { %>
                        Distance: <%= workout.distance %> mile<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.notes) { %>
                      Notes: "<%= workout.notes %>"<br />
                    <% } %>
                  </div> 
              </li>
            <% }); %>

          </ul>
        <% } else { %>
        <p>You have no Bike workouts!</p>
        <% } %>
      </div>




      <div class="workout-column run-column">
        <div class="icon-container">
          <div class="run-icon">
            <img
              class="run-pic-icon"
              src="/icon-pics/run.png"
              alt="run picture"
            />
            <h3>RUN</h3>
          </div>
        </div>
  
        <% let runWorkouts = triathlon.filter(workout => workout.discipline === 'Run').sort((a, b) => new Date(a.date) - new Date(b.date)); %>
        
        <% if (runWorkouts.length > 0) { %>
          <ul>
            <% runWorkouts.forEach((workout) => { %>
              
              <li>
                <a class="workout-title-link" href="/users/<%= user._id %>/workouts/<%= workout._id %>">
                <div class="workout-title-text"><u>Date: <%= workout.date.toString().slice(0, 15) %></u></div>
                </a> 

                  <div class="workout-cards">

                    Type: <%= workout.workoutType %><br />
          
                    <% if (workout.time) { %>
                      <% if (workout.time > 1) { %>
                        Time: <%= workout.time %> minutes<br />
                      <% } else if (workout.time === 1) { %>
                        Time: <%= workout.time %> minute<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.distance) { %>
                      <% if (workout.distance > 1) { %>
                        Distance: <%= workout.distance %> miles<br />
                      <% } else if (workout.distance === 1) { %>
                        Distance: <%= workout.distance %> mile<br />
                      <% } %>
                    <% } %>
          
                    <% if (workout.notes) { %>
                      Notes: "<%= workout.notes %>"<br />
                    <% } %>
                  </div> 
              </li>
            <% }); %>

          </ul>
        <% } else { %>
        <p>You have no Run workouts!</p>
        <% } %>
      </div>
        
    </div>
  </body>
</html>
